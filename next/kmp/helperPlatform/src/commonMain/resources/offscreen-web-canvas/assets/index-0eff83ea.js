(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&e(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();const m=Worker;class l extends EventTarget{constructor(){super(...arguments),this.closed=!1,this.beforeStart=[]}start(){const t=this.beforeStart;if(t){this.beforeStart=void 0;for(const[s,e]of t)this.dispatchMessageEvent(s,e);this.addEventListener=super.addEventListener.bind(this)}}postMessage(t,s){if(!this.closed){if(this.remote.beforeStart){this.remote.beforeStart.push([t,s]);return}this.remote.dispatchMessageEvent(t,s)}}dispatchMessageEvent(t,s){const e=s?.filter(o=>o instanceof MessagePort)??[];this.dispatchEvent(new MessageEvent("message",{data:t,ports:e}))}addEventListener(t,s,e){super.addEventListener(t,s,e),this.start()}close(){this.closed||(this.closed=!0,this.remote.close())}}class u{constructor(t){this.mockChannel=(()=>{const o=new l,n=new l;return o.remote=n,n.remote=o,[o,n]})(),this.toWorkerPort=this.mockChannel[0],this.toMainPort=this.mockChannel[1],this.postMessage=this.toWorkerPort.postMessage.bind(this.toWorkerPort),this.addEventListener=this.toWorkerPort.addEventListener.bind(this.toWorkerPort);const s=(Date.now()+Math.random()).toString(36),e=this.script=document.createElement("script");debugger;e.dataset.workerId=s,e.type="module",e.async=!0,document.head.appendChild(e),e.src=t,Object.assign(window,{Worker:m,[s]:this})}}function p(r){if(typeof r.transferControlToOffscreen!="function"){const t=r;t.convertToBlob=e=>new Promise((o,n)=>{r.toBlob(c=>{c?o(c):n()},e?.type,e?.quality)});let s=!1;r.transferControlToOffscreen=()=>{if(s)return t;s=!0;const e=document.createElement("div");return e.appendChild(r),document.body.appendChild(e),e.style.pointerEvents="none",e.style.position="absolute",e.style.left="0",e.style.top="0",e.style.width="0",e.style.height="0",e.style.opacity="0",delete r.transferControlToOffscreen,t},Object.assign(window,{Worker:u})}}const a="ZnVuY3Rpb24gcHJlcGFyZUluV29ya2VyKGEpe2lmKHR5cGVvZiB3aW5kb3chPSJvYmplY3QiKXJldHVybnt0b01haW5DaGFubmVsOnNlbGYsaXNXb3JrZXI6ITB9O3tjb25zdCB0PWRvY3VtZW50LmN1cnJlbnRTY3JpcHQ/P1tdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiW2RhdGEtd29ya2VyLWlkXSIpKS5maW5kKHI9PnIuc3JjPT1hKSxlPXQuZGF0YXNldC53b3JrZXJJZDtkZWxldGUgdC5kYXRhc2V0LndvcmtlcklkO2NvbnN0IG89d2luZG93W2VdO3JldHVybiBkZWxldGUgd2luZG93W2VdLHt0b01haW5DaGFubmVsOm8udG9NYWluUG9ydCxpc1dvcmtlcjohMX19fWNvbnN0e3RvTWFpbkNoYW5uZWwsaXNXb3JrZXJ9PXByZXBhcmVJbldvcmtlcihpbXBvcnQubWV0YS51cmwpOyhhc3luYygpPT57bGV0IHdzVXJsPW51bGwscHJveHlVcmw9bnVsbDtjb25zdCBjYW52YXM9YXdhaXQgbmV3IFByb21pc2UoYT0+dG9NYWluQ2hhbm5lbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIix0PT57YSh0LmRhdGEuY2FudmFzKSx3c1VybD10LmRhdGEud3NVcmx8fG51bGwscHJveHlVcmw9dC5kYXRhLnByb3h5VXJsfHxudWxsfSx7b25jZTohMH0pKSxjdHg9Y2FudmFzLmdldENvbnRleHQoIjJkIiksd3JhcFVybEJ5UHJveHk9YT0+e2lmKCFwcm94eVVybHx8IWEuc3RhcnRzV2l0aCgiaHR0cCIpKXJldHVybiBhO2NvbnN0IHQ9bmV3IFVSTChwcm94eVVybCk7cmV0dXJuIHQuc2VhcmNoUGFyYW1zLnNldCgidXJsIixhKSx0LmhyZWZ9LGZldGNoSW1hZ2VCaXRtYXA9YXN5bmMoYSx0LGUpPT57Y29uc3Qgbz1hd2FpdCBmZXRjaChhLHQpLnRoZW4obj0+bi5ibG9iKCkpO3JldHVybiBhd2FpdCBjcmVhdGVJbWFnZUJpdG1hcChvLGUpfSxjYW52YXNUb0RhdGFVUkw9YXN5bmMoYSx0KT0+InRvRGF0YVVSTCJpbiBhP2F3YWl0IGEudG9EYXRhVVJMKHQ/LnR5cGUsdD8ucXVhbGl0eSk6YXdhaXQgYmxvYlRvRGF0YVVSTChhd2FpdCBhLmNvbnZlcnRUb0Jsb2IodCkpLGJsb2JUb0RhdGFVUkw9YT0+bmV3IFByb21pc2UoKHQsZSk9Pntjb25zdCBvPW5ldyBGaWxlUmVhZGVyO28ub25sb2FkPSgpPT50KG8ucmVzdWx0KSxvLm9uZXJyb3I9ZSxvLnJlYWRBc0RhdGFVUkwoYSl9KSxBc3luY0Z1bmN0aW9uPWV2YWwoIihhc3luYygpPT57fSkuY29uc3RydWN0b3IiKSxldmFsQ29kZT1hc3luYyhhLHQsZSk9Pnt0cnl7Y29uc3Qgbz1hd2FpdCBuZXcgQXN5bmNGdW5jdGlvbigiY2FudmFzLGN0eCxmZXRjaEltYWdlQml0bWFwLGJsb2JUb0RhdGFVUkwsY2FudmFzVG9EYXRhVVJMLHdyYXBVcmxCeVByb3h5Iix0KShjYW52YXMsY3R4LGZldGNoSW1hZ2VCaXRtYXAsYmxvYlRvRGF0YVVSTCxjYW52YXNUb0RhdGFVUkwsd3JhcFVybEJ5UHJveHkpO2Uodm9pZCAwLGEudm9pZD92b2lkIDA6YS5qc29uaWZ5P0pTT04uc3RyaW5naWZ5KG8pOlN0cmluZyhvKSl9Y2F0Y2gobyl7Y29uc29sZS5lcnJvcihvKSxlKFN0cmluZyhvKSx2b2lkIDApfX07aWYoT2JqZWN0LmFzc2lnbihzZWxmLHtldmFsQ29kZSxjYW52YXMsY3R4LGZldGNoSW1hZ2VCaXRtYXAsYmxvYlRvRGF0YVVSTCxjYW52YXNUb0RhdGFVUkwsd3JhcFVybEJ5UHJveHl9KSx3c1VybCl7Y29uc3QgYT1uZXcgV2ViU29ja2V0KHdzVXJsKTthLm9ubWVzc2FnZT1hc3luYyB0PT57Y29uc3QgZT1KU09OLnBhcnNlKHQuZGF0YSk7YXdhaXQgZXZhbENvZGUoe3ZvaWQ6ZS5yZXN1bHRWb2lkLGpzb25pZnk6ZS5yZXN1bHRKc29uSWZ5fSxlLnJ1bkNvZGUsKG8scik9PnthLnNlbmQoSlNPTi5zdHJpbmdpZnkoe3JpZDplLnJpZCxlcnJvcjpvLHN1Y2Nlc3M6cn0pKX0pfX1lbHNle2NvbnNvbGUubG9nKCJzdGFydCB0ZXN0cyIpO2NvbnN0IGE9YXN5bmMoKT0+KGNhbnZhcy53aWR0aD0zMDAsY2FudmFzLmhlaWdodD0zMDAse3dpZHRoOmNhbnZhcy53aWR0aCxoZWlnaHQ6Y2FudmFzLmhlaWdodH0pLHQ9YXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgZmV0Y2hJbWFnZUJpdG1hcCgiaHR0cHM6Ly91cGxvYWQud2lraW1lZGlhLm9yZy93aWtpcGVkaWEvY29tbW9ucy81LzU1L0pvaG5fV2lsbGlhbV9XYXRlcmhvdXNlX0FfTWVybWFpZC5qcGciKTtyZXR1cm4gY3R4LmRyYXdJbWFnZShlLDAsMCksYXdhaXQgY2FudmFzVG9EYXRhVVJMKGNhbnZhcyl9O2Zvcihjb25zdFtlLG9db2YgbmV3IE1hcChbW2Ese3ZvaWQ6ITEsanNvbmlmeTohMH1dLFt0LHt2b2lkOiExLGpzb25pZnk6ITF9XV0pKWF3YWl0IGV2YWxDb2RlKG8sZS50b1N0cmluZygpLm1hdGNoKC9ceyhbXHdcV10rKVx9LylbMV0sKHIsbik9PnI/Y29uc29sZS5lcnJvcihlLm5hbWUscik6Y29uc29sZS5sb2coZS5uYW1lLG4pKX19KSgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpOwo=",i=typeof window<"u"&&window.Blob&&new Blob(["URL.revokeObjectURL(import.meta.url);"+atob(a)],{type:"text/javascript;charset=utf-8"});function Y(r){let t;try{if(t=i&&(window.URL||window.webkitURL).createObjectURL(i),!t)throw"";const s=new Worker(t,{type:"module",name:r?.name});return s.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(t)}),s}catch{return new Worker("data:application/javascript;base64,"+a,{type:"module",name:r?.name})}}const d=document.createElement("canvas");p(d);const W=new Y,h=d.transferControlToOffscreen(),b=new URLSearchParams(location.search);W.postMessage({canvas:h,width:d.clientWidth,height:d.clientHeight,wsUrl:b.get("channel"),proxyUrl:b.get("proxy")},[h]);
