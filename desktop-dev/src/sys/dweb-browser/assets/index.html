<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>dweb_browser</title>
</head>
<body>
  <button class="open" data-app-id="browser.sys.dweb">激活 browser.sys.dweb</button>
  <button class="close" data-app-id="browser.sys.dweb">关闭 browser.sys.dweb</button>
  <script type="text/javascript">
    const open = document.querySelector('.open')
    const close = document.querySelector('.close');
    // dweb-browser.sys.dweb
    console.log("location: ", location)
    const baseAPIUrl = location.origin.replace("www.", "api.")
    open.addEventListener('click', () => {
      console.log(open.dataset.appId)
      fetch(
        `${baseAPIUrl}/activity?app_id=${open.dataset.appId}`
      )
    })

    close.addEventListener('click', () => {
      fetch(
        `${baseAPIUrl}/close?app_id=${open.dataset.appId}`
      )
    })
  </script>
</body>
</html>